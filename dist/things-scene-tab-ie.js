!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=scene},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";n.r(t);var o=n(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,a(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(o=[{key:"removed",value:function(e){this.dispose()}},{key:"prerender",value:function(e){c(a(t.prototype),"prerender",this).call(this,e);var n=this.model,o=n.fillStyle,r=n.activeFillStyle,i=n.activeLineColor,l=n.activeLineWidth,f=n.fontColor,s=n.activeFontColor;this.hasOwnProperty("_fillStyle")||(this._fillStyle=o),this.hasOwnProperty("_fontColor")||(this._fontColor=f),this.activated?(this.model.fillStyle=r,this.model.fontColor=s,this.model.strokeStyle=i,this.model.lineWidth=l):(this.model.fillStyle=this._fillStyle,this.model.fontColor=this._fontColor,this.model.strokeStyle=this._strokeStyle,this.model.lineWidth=this._lineWidth)}},{key:"render",value:function(e){var t=this.bounds,n=t.left,o=void 0===n?0:n,r=t.top,i=void 0===r?0:r,l=t.width,c=t.height;e.beginPath(),e.rect(o,i,l,c),this.drawFill(e),this.drawStroke(e)}},{key:"postrender",value:function(e){c(a(t.prototype),"postrender",this).call(this,e),this.model.fillStyle=this._fillStyle,this.model.fontColor=this._fontColor,this.model.strokeStyle=this._strokeStyle,this.model.lineWidth=this._lineWidth,delete this._fillStyle,delete this._fontColor,delete this._strokeStyle,delete this._lineWidth}},{key:"onclick",value:function(e){this.parent.activeIndex=this.index,this.parent.invalidate()}},{key:"onchange",value:function(e){e.hasOwnProperty("fillStyle")&&(this._fillStyle=e.fillStyle),e.hasOwnProperty("fontColor")&&(this._fontColor=e.fontColor),e.hasOwnProperty("strokeStyle")&&(this._fontColor=e.fontColor),e.hasOwnProperty("lineWidth")&&(this._fontColor=e.fontColor),e.hasOwnProperty("text")&&this.parent.reference.getAt(this.index).set("text",e.text),this.invalidate()}},{key:"index",get:function(){return this.model.index}},{key:"activated",get:function(){return this.parent.activeIndex===this.index}}])&&i(n.prototype,o),r&&i(n,r),t}(Object(o.RectPath)(o.Component));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}o.Component.register("tab-button",s);var b={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"id-input",label:"tab-reference",name:"reference",property:{component:"indoor-map"}},{type:"number",label:"tab-active-index",name:"activeIndex",property:{min:0,step:1}},{type:"color",label:"active-fill-style",name:"activeFillStyle",property:"activeFillStyle"},{type:"color",label:"active-font-color",name:"activeFontColor",property:"activeFontColor"},{type:"color",label:"active-line-color",name:"activeLineColor",property:"activeLineColor"},{type:"number",label:"active-line-width",name:"activeLineWidth",property:"activeLineWidth"}]},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(e){if(y(d(t.prototype),"render",this).call(this,e),this.reference)this.size()!==this.reference.size()&&this.rebuildTabButtons(e);else for(var n=this.components.length-1;n>=0;n--){var o=this.components[n];this.removeComponent(o)}}},{key:"postrender",value:function(e){if(y(d(t.prototype),"postrender",this).call(this,e),this.app.isEditMode){var n,o,r,i=this.model,l=i.left,c=i.top,a=i.width;i.fillStyle,e.beginPath(),e.rect(l+a,c,25,25),e.fillStyle=(n=235,o=235,r=1,"rgba(".concat(235,", ").concat(n,", ").concat(o,", ").concat(r,")")),e.fill(),e.closePath()}}},{key:"contains",value:function(e,n){if(!this.app.isEditMode)return y(d(t.prototype),"contains",this).call(this,e,n);if(y(d(t.prototype),"contains",this).call(this,e,n))return!0;var o=this.bounds,r=o.left,i=o.top,l=r+o.width;return e<Math.max(l+25,l)&&e>Math.min(l+25,l)&&n<Math.max(i+25,i)&&n>Math.min(i+25,i)}},{key:"dispose",value:function(){this.reference&&this.reference.off("change",this.onRefChanged,this),y(d(t.prototype),"dispose",this).call(this)}},{key:"rebuildTabButtons",value:function(){for(var e=this.model,t=(e.tabIndex,e.left,e.top,e.width),n=e.height,r=e.fillStyle,i=e.activeFillStyle,l=e.activeLineColor,c=e.activeLineWidth,a=e.strokeStyle,f=e.fontColor,s=e.activeFontColor,u=e.fontFamily,h=e.fontSize,p=e.lineHeight,y=e.italic,d=e.bold,v=e.lineWidth,b=void 0===v?0:v,m=[],g=this.reference.components,S=(this.labelHeight,this.components.length-1);S>=0;S--)this.removeComponent(this.components[S]);for(var _=0;_<g.length;_++)if("floor"==g[_].model.type){var O=g[_].text||"";m.push(o.Model.compile({type:"tab-button",index:_,text:O||String(_+1),fillStyle:r||"transparent",activeFillStyle:i,activeLineColor:l,activeLineWidth:c,fontColor:f,activeFontColor:s||f,fontFamily:u,fontSize:h,lineHeight:p,italic:y,bold:d,strokeStyle:a,lineWidth:b,left:0,top:0,width:t,height:n}))}this.add(m),this.reflow(),this.activeIndex=this.model.activeIndex||0}},{key:"setTabButtonsStyle",value:function(e){var t=this.components;for(var n in t)t[n].set(e)}},{key:"onRefChanged",value:function(e,t,n){}},{key:"onchange",value:function(e,t){e.hasOwnProperty("reference")&&(this.reference=e.reference,this.invalidate()),this.setTabButtonsStyle(e)}},{key:"layout",get:function(){var e=this.model;return e.width>=e.height?o.LinearHorizontalLayout:o.LinearVerticalLayout}},{key:"nature",get:function(){return b}},{key:"focusible",get:function(){return!1}},{key:"reference",get:function(){var e=this.model.reference;return e?(this._reference||(this._reference=this.root.findById(e),this._reference&&this._reference.on("change",this.onRefChanged,this)),this._reference):null},set:function(e){this.reference&&this.reference.off("change",this.onRefChanged,this),this._reference=null,this.model.reference=e}},{key:"labelHeight",get:function(){var e=this.reference.components.length,t=this.model.height;return e>0&&t/e||t}},{key:"activeIndex",get:function(){return this.get("activeIndex")},set:function(e){this.set("activeIndex",e),this.reference&&(this.reference.activeIndex=e)}}])&&h(n.prototype,r),i&&h(n,i),t}(o.Container);o.Component.register("tab",m),n.d(t,"Tab",(function(){return m}))}]);
//# sourceMappingURL=things-scene-tab-ie.js.map